"use strict";(self.webpackChunkonline_store=self.webpackChunkonline_store||[]).push([[874],{1768:function(e,r,n){var t=n(4569),s=n.n(t)().create({baseURL:"https://amh-store.herokuapp.com/api/v1/orders"});r.Z=s},6819:function(e,r,n){n.d(r,{Z:function(){return u}});n(2791);var t="OrderItem_OrderItem__SnqFC",s="OrderItem_imageContainer__LyRF+",i="OrderItem_nameContainer__7smBb",a="OrderItem_name__ZUXCT",o="OrderItem_price__9Eum9",d="OrderItem_quantity__dvEoE",c=n(9946),l=n(184),u=function(e){return(0,l.jsxs)("div",{className:t,children:[(0,l.jsx)("div",{className:s,children:(0,l.jsx)("img",{src:c,alt:e.item.name})}),(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)("h5",{className:a,children:e.item.name}),(0,l.jsxs)("h4",{className:o,children:["$",e.item.price]}),(0,l.jsx)("h3",{className:d,children:e.itemQuantity})]})]})}},1441:function(e,r,n){n.d(r,{Z:function(){return i}});n(2791);var t="Alert_Alert__IpMo7",s=n(184),i=function(e){return(0,s.jsx)("div",{className:t,children:e.children})}},8408:function(e,r,n){n.d(r,{Z:function(){return i}});n(2791);var t="Button_Button__Ip4AH",s=n(184),i=function(e){var r={fontWeight:e.fontWeight,padding:e.padding,fontSize:e.fontSize,backgroundColor:e.backgroundColor};return(0,s.jsx)("button",{type:"submit",className:t,style:r,onClick:e.clicked,children:e.children})}},4282:function(e,r,n){n.d(r,{Z:function(){return a}});n(2791);var t="Loader_loaderContainer__pwLPQ",s="Loader_loader__ZEPsn",i=n(184),a=function(e){var r="small"===e.size?{width:"40px",height:"40px"}:{width:"80px",height:"80px"},n="small"===e.size?{borderWidth:"20px"}:{borderWidth:"40px"};return(0,i.jsx)("div",{className:t,style:r,children:(0,i.jsx)("span",{className:s,style:n})})}},874:function(e,r,n){n.r(r),n.d(r,{default:function(){return I}});var t=n(5671),s=n(3144),i=n(9340),a=n(2882),o=n(2791),d={OrderDetails:"OrderDetails_OrderDetails__a8t+x",orderInfo:"OrderDetails_orderInfo__SStTP",prices:"OrderDetails_prices__GkJc2",orderItemsContainer:"OrderDetails_orderItemsContainer__-7LLT",orderItems:"OrderDetails_orderItems__Mbb-m",additional:"OrderDetails_additional__UK0+M"},c=n(8687),l=n(4165),u=n(5861),p=n(9912),h=n(1768),m=function(){return{type:p.V}},f=function(e){return{type:p.S,orderDetails:e}},x=n(9795),_=n(4270),j=n(6819),v=n(4282),g=n(8408),Z=n(1441),k=n(3504),D=n(184),O=function(e){(0,i.Z)(n,e);var r=(0,a.Z)(n);function n(){var e;(0,t.Z)(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(e=r.call.apply(r,[this].concat(i))).buttonClicked=function(r,n){"myOrders"===r||n?e.props.navigate(-1):e.props.onMakeDelivered(e.props.params.id,e.props.token)},e}return(0,s.Z)(n,[{key:"shouldComponentUpdate",value:function(e,r){return e.orderDetails!==this.props.orderDetails||e.loading!==this.props.loading}},{key:"componentDidMount",value:function(){this.props.onRenderOrderDetails(this.props.params.id,this.props.token)}},{key:"render",value:function(){var e=this;if(this.props.loading)return(0,D.jsx)(v.Z,{});if(this.props.orderDetails){var r=this.props.orderDetails;if(!r.user)return(0,D.jsxs)(Z.Z,{children:["This order's user was deleted!\xa0",(0,D.jsx)(k.rU,{to:"/admin/orders_list/1",children:"Go back to orders"})]});var n=this.props.location.pathname.split("/"),t=n[n.length-2];return(0,D.jsxs)("section",{className:d.OrderDetails,children:[(0,D.jsx)(_.q,{children:(0,D.jsx)("title",{children:"Online Store | Order Details"})}),(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:d.orderInfo,children:[(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:"Name:"})," ",r.user.name]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:"Email:"})," ",r.user.email]})]}),(0,D.jsxs)("div",{className:d.orderInfo,children:[(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:"Address:"})," ",r.shippingAddress]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:"Payment method:"})," ",r.paymentMethod]})]}),(0,D.jsxs)("div",{className:d.orderItemsContainer,children:[(0,D.jsx)("h2",{children:"Order items:"}),(0,D.jsx)("div",{className:d.orderItems,children:r.orderItems.map((function(e){return e.product?(0,D.jsx)(j.Z,{item:e.product,itemQuantity:e.quantity},e._id):null}))})]}),(0,D.jsxs)("div",{className:[d.orderInfo,d.prices].join(" "),children:[(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:"Items price:"})," ",r.itemsPrice]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:"Payment price:"})," ",r.shippingPrice]}),(0,D.jsxs)("span",{children:[(0,D.jsx)("strong",{children:"Tax price:"})," ",r.taxPrice]}),(0,D.jsx)("span",{children:(0,D.jsxs)("strong",{children:["Total price: ",r.totalPrice]})})]}),(0,D.jsx)("div",{className:d.additional,children:(0,D.jsx)(g.Z,{fontWeight:"700",fontSize:"1.1rem",clicked:function(){e.buttonClicked(t,r.isDelivered)},children:"myOrders"===t||r.isDelivered?"Go back":"Make delivered"})})]})]})}return null}}]),n}(o.Component),I=(0,c.$j)((function(e){return{token:e.register.token,orderDetails:e.orderDetails.orderDetails,loading:e.orderDetails.loading}}),(function(e){return{onRenderOrderDetails:function(r,n){return e(function(e,r){return function(n){(0,u.Z)((0,l.Z)().mark((function t(){var s,i;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m()),t.next=3,h.Z.get("/".concat(e),{headers:{Authorization:"Bearer ".concat(r)}});case 3:s=t.sent,i=s.data.data,n(f(i));case 6:case"end":return t.stop()}}),t)})))()}}(r,n))},onMakeDelivered:function(r,n){return e(function(e,r){return function(n){(0,u.Z)((0,l.Z)().mark((function t(){var s,i;return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(m()),t.next=3,h.Z.get("/".concat(e,"/deliver"),{headers:{Authorization:"Bearer ".concat(r)}});case 3:return t.next=5,h.Z.get("/".concat(e),{headers:{Authorization:"Bearer ".concat(r)}});case 5:s=t.sent,i=s.data.data,n(f(i));case 8:case"end":return t.stop()}}),t)})))()}}(r,n))}}}))((0,x.Z)(O))},9795:function(e,r,n){var t=n(1413),s=(n(2791),n(6871)),i=n(184);r.Z=function(e){return function(r){return(0,i.jsx)(e,(0,t.Z)((0,t.Z)({},r),{},{params:(0,s.UO)(),navigate:(0,s.s0)(),location:(0,s.TH)()}))}}},9946:function(e,r,n){e.exports=n.p+"static/media/Controller.cbe8848551029d2efce6.jpg"}}]);
//# sourceMappingURL=874.b32408dd.chunk.js.map