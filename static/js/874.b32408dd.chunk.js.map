{"version":3,"file":"static/js/874.b32408dd.chunk.js","mappings":"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","sources":["axios/axios-orders.js","webpack://online-store/./src/components/admin/orders/OrderItem/OrderItem.module.css?e995","components/admin/orders/OrderItem/OrderItem.js","webpack://online-store/./src/components/general/UI/Alert/Alert.module.css?c9f1","components/general/UI/Alert/Alert.js","webpack://online-store/./src/components/general/UI/Button/Button.module.css?6c05","components/general/UI/Button/Button.js","webpack://online-store/./src/components/general/UI/Loader/Loader.module.css?ddc0","components/general/UI/Loader/Loader.js","webpack://online-store/./src/containers/Layout/OrderDetails/OrderDetails.module.css?dafc","containers/Layout/OrderDetails/store/actions/actionCreators.js","containers/Layout/OrderDetails/OrderDetails.js","hoc/withRouter/withRouter.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://amh-store.herokuapp.com/api/v1/orders',\r\n});\r\n\r\nexport default instance; ","// extracted by mini-css-extract-plugin\nexport default {\"OrderItem\":\"OrderItem_OrderItem__SnqFC\",\"imageContainer\":\"OrderItem_imageContainer__LyRF+\",\"nameContainer\":\"OrderItem_nameContainer__7smBb\",\"name\":\"OrderItem_name__ZUXCT\",\"price\":\"OrderItem_price__9Eum9\",\"quantity\":\"OrderItem_quantity__dvEoE\"};","import React from 'react';\r\nimport classes from './OrderItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n// !\r\nimport controllerImage from '../../../../assets/images/Controller.jpg';\r\n\r\nconst OrderItem = props => {\r\n    return (\r\n        <div className={classes.OrderItem}>\r\n            <div className={classes.imageContainer}>\r\n                <img\r\n                    src={controllerImage}\r\n                    alt={props.item.name} />\r\n            </div>\r\n            <div className={classes.nameContainer}>\r\n                <h5 className={classes.name}>\r\n                    {props.item.name}\r\n                </h5>\r\n                <h4 className={classes.price}>\r\n                    ${props.item.price}\r\n                </h4>\r\n                <h3 className={classes.quantity}>\r\n                    {props.itemQuantity}\r\n                </h3>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nOrderItem.propTypes = {\r\n    item: PropTypes.object.isRequired,\r\n    itemQuantity: PropTypes.number.isRequired,\r\n}\r\n\r\nexport default OrderItem;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"Alert\":\"Alert_Alert__IpMo7\"};","import React from \"react\";\r\nimport classes from \"./Alert.module.css\";\r\n\r\nconst Alert = props => {\r\n  return <div className={classes.Alert}>{props.children}</div>;\r\n};\r\n\r\nexport default Alert;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"Button\":\"Button_Button__Ip4AH\"};","import React from \"react\";\r\nimport classes from \"./Button.module.css\";\r\n\r\nconst Button = props => {\r\n  const outStyles = {\r\n    fontWeight: props.fontWeight,\r\n    padding: props.padding,\r\n    fontSize: props.fontSize,\r\n    backgroundColor: props.backgroundColor,\r\n  };\r\n\r\n  return (\r\n    <button\r\n      type=\"submit\"\r\n      className={classes.Button}\r\n      style={outStyles}\r\n      onClick={props.clicked}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"loaderContainer\":\"Loader_loaderContainer__pwLPQ\",\"loader\":\"Loader_loader__ZEPsn\",\"pie-fill\":\"Loader_pie-fill__mI6y7\"};","import React from \"react\";\r\nimport classes from \"./Loader.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Loader = props => {\r\n  const loaderContStyle =\r\n      props.size === \"small\"\r\n        ? {\r\n            width: \"40px\",\r\n            height: \"40px\",\r\n          }\r\n        : {\r\n            width: \"80px\",\r\n            height: \"80px\",\r\n          },\r\n    loaderStyle =\r\n      props.size === \"small\"\r\n        ? {\r\n            borderWidth: \"20px\",\r\n          }\r\n        : {\r\n            borderWidth: \"40px\",\r\n          };\r\n\r\n  return (\r\n    <div className={classes.loaderContainer} style={loaderContStyle}>\r\n      <span className={classes.loader} style={loaderStyle}></span>\r\n    </div>\r\n  );\r\n};\r\n\r\nLoader.propTypes = {\r\n  size: PropTypes.string,\r\n};\r\n\r\nexport default Loader;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"OrderDetails\":\"OrderDetails_OrderDetails__a8t+x\",\"orderInfo\":\"OrderDetails_orderInfo__SStTP\",\"prices\":\"OrderDetails_prices__GkJc2\",\"orderItemsContainer\":\"OrderDetails_orderItemsContainer__-7LLT\",\"orderItems\":\"OrderDetails_orderItems__Mbb-m\",\"additional\":\"OrderDetails_additional__UK0+M\"};","import * as actionTypes from './actionTypes';\r\nimport ordersAxios from '../../../../../axios/axios-orders';\r\n\r\nconst load = () => {\r\n    return {\r\n        type: actionTypes.LOAD,\r\n    }\r\n}\r\n\r\nconst renderOrderDetails = orderDetails => {\r\n    return {\r\n        type: actionTypes.RENDER_ORDER_DETAILS,\r\n        orderDetails,\r\n    }\r\n}\r\n\r\nconst fetchOrderDetails = (id, token) => {\r\n    return dispatch => {\r\n        (async () => {\r\n            dispatch(load());\r\n\r\n            // ^ Fetching the order with its ID\r\n            const response = await ordersAxios.get(`/${id}`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            }),\r\n                orderDetails = response.data.data;\r\n\r\n            // ^ Store the order details\r\n            dispatch(renderOrderDetails(orderDetails))\r\n        })();\r\n    }\r\n}\r\n\r\nconst makeDelivered = (id, token) => {\r\n    return dispatch => {\r\n        (async () => {\r\n            dispatch(load());\r\n\r\n            // ^ Making the order delivered\r\n            await ordersAxios.get(`/${id}/deliver`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            });\r\n\r\n            // ^ Fetching the order with its ID after making it delivered\r\n            const response = await ordersAxios.get(`/${id}`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                },\r\n            }),\r\n                orderDetails = response.data.data;\r\n\r\n            // ^ Store the order details\r\n            dispatch(renderOrderDetails(orderDetails))\r\n        })();\r\n    }\r\n}\r\n\r\nexport {\r\n    fetchOrderDetails,\r\n    makeDelivered,\r\n}","import React, { Component } from \"react\";\r\nimport classes from \"./OrderDetails.module.css\";\r\nimport { connect } from 'react-redux';\r\nimport * as actionCreators from './store/actions/actionCreators';\r\nimport withRouter from '../../../hoc/withRouter/withRouter';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nimport OrderItem from '../../../components/admin/orders/OrderItem/OrderItem';\r\nimport Loader from '../../../components/general/UI/Loader/Loader';\r\nimport Button from '../../../components/general/UI/Button/Button';\r\nimport Alert from '../../../components/general/UI/Alert/Alert';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass OrderDetails extends Component {\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        return (\r\n            nextProps.orderDetails !== this.props.orderDetails\r\n            || nextProps.loading !== this.props.loading\r\n        );\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onRenderOrderDetails(this.props.params.id, this.props.token)\r\n    }\r\n\r\n    buttonClicked = (callingComponent, isDelivered) => {\r\n        // ^ Checking IF this order is opened from in between the admin orders\r\n        // ^ OR from in between the current user's orders  \r\n        if (callingComponent === 'myOrders' || isDelivered) {\r\n            this.props.navigate(-1);\r\n        } else {\r\n            this.props.onMakeDelivered(this.props.params.id, this.props.token);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.props.loading) return <Loader />;\r\n\r\n        if (this.props.orderDetails) {\r\n            const orderDetails = this.props.orderDetails;\r\n\r\n            // ^ If the order's user was deleted by an admin\r\n            if (!orderDetails.user) {\r\n                return (\r\n                    <Alert>\r\n                        This order's user was deleted!&nbsp;\r\n                        <Link to='/admin/orders_list/1'>Go back to orders</Link>\r\n                    </Alert>\r\n                );\r\n            }\r\n\r\n            const urlArr = this.props.location.pathname.split('/'),\r\n                callingComponent = urlArr[urlArr.length - 2];\r\n\r\n            return (\r\n                <section className={classes.OrderDetails}>\r\n                    <Helmet>\r\n                        <title>Online Store | Order Details</title>\r\n                    </Helmet>\r\n\r\n                    <div>\r\n                        <div className={classes.orderInfo}>\r\n                            <span>\r\n                                <strong>Name:</strong> {orderDetails.user.name}\r\n                            </span>\r\n                            <span>\r\n                                <strong>Email:</strong> {orderDetails.user.email}\r\n                            </span>\r\n                        </div>\r\n                        <div className={classes.orderInfo}>\r\n                            <span>\r\n                                <strong>Address:</strong> {orderDetails.shippingAddress}\r\n                            </span>\r\n                            <span>\r\n                                <strong>Payment method:</strong> {orderDetails.paymentMethod}\r\n                            </span>\r\n                        </div>\r\n                        <div className={classes.orderItemsContainer}>\r\n                            <h2>Order items:</h2>\r\n                            <div className={classes.orderItems}>\r\n                                {\r\n                                    orderDetails.orderItems.map(item => {\r\n                                        if (!item.product) return null;\r\n\r\n                                        return <OrderItem\r\n                                            key={item._id} item={item.product} itemQuantity={item.quantity} />;\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className={[classes.orderInfo, classes.prices].join(' ')}>\r\n                            <span>\r\n                                <strong>Items price:</strong> {orderDetails.itemsPrice}\r\n                            </span>\r\n                            <span>\r\n                                <strong>Payment price:</strong> {orderDetails.shippingPrice}\r\n                            </span>\r\n                            <span>\r\n                                <strong>Tax price:</strong> {orderDetails.taxPrice}\r\n                            </span>\r\n                            <span>\r\n                                <strong>Total price: {orderDetails.totalPrice}</strong>\r\n                            </span>\r\n                        </div>\r\n                        <div className={classes.additional}>\r\n                            <Button\r\n                                fontWeight=\"700\"\r\n                                fontSize=\"1.1rem\"\r\n                                clicked={() => { this.buttonClicked(callingComponent, orderDetails.isDelivered) }}>\r\n                                {\r\n                                    callingComponent === 'myOrders'\r\n                                        ? 'Go back'\r\n                                        : orderDetails.isDelivered\r\n                                            ? 'Go back'\r\n                                            : 'Make delivered'\r\n                                }\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </section >\r\n            )\r\n        }\r\n\r\n        return null;\r\n\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        token: state.register.token,\r\n        orderDetails: state.orderDetails.orderDetails,\r\n        loading: state.orderDetails.loading,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onRenderOrderDetails: (id, token) => dispatch(actionCreators.fetchOrderDetails(id, token)),\r\n        onMakeDelivered: (id, token) => dispatch(actionCreators.makeDelivered(id, token)),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(OrderDetails));\r\n","import React from \"react\";\r\nimport { useParams, useNavigate, useLocation } from \"react-router-dom\";\r\n\r\nconst withRouter = Component => {\r\n  return props => (\r\n    <Component\r\n      {...props}\r\n      params={useParams()}\r\n      navigate={useNavigate()}\r\n      location={useLocation()}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withRouter;\r\n"],"names":["instance","axios","baseURL","props","className","classes","src","controllerImage","alt","item","name","price","itemQuantity","children","outStyles","fontWeight","padding","fontSize","backgroundColor","type","style","onClick","clicked","loaderContStyle","size","width","height","loaderStyle","borderWidth","load","actionTypes","renderOrderDetails","orderDetails","OrderDetails","buttonClicked","callingComponent","isDelivered","navigate","onMakeDelivered","params","id","token","nextProps","nextState","this","loading","onRenderOrderDetails","Loader","user","Alert","to","urlArr","location","pathname","split","length","Helmet","email","shippingAddress","paymentMethod","orderItems","map","product","OrderItem","quantity","_id","join","itemsPrice","shippingPrice","taxPrice","totalPrice","Button","Component","connect","state","register","dispatch","ordersAxios","headers","Authorization","response","data","actionCreators","withRouter","useParams","useNavigate","useLocation"],"sourceRoot":""}