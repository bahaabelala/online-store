"use strict";(self.webpackChunkonline_store=self.webpackChunkonline_store||[]).push([[695],{1768:function(e,n,t){var r=t(4569),a=t.n(r)().create({baseURL:"https://amh-store.herokuapp.com/api/v1/orders"});n.Z=a},1441:function(e,n,t){t.d(n,{Z:function(){return i}});t(2791);var r="Alert_Alert__IpMo7",a=t(184),i=function(e){return(0,a.jsx)("div",{className:r,children:e.children})}},8408:function(e,n,t){t.d(n,{Z:function(){return i}});t(2791);var r="Button_Button__Ip4AH",a=t(184),i=function(e){var n={fontWeight:e.fontWeight,padding:e.padding,fontSize:e.fontSize,backgroundColor:e.backgroundColor};return(0,a.jsx)("button",{type:"submit",className:r,style:n,onClick:e.clicked,children:e.children})}},9929:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(4942),a=t(1413),i=t(885),o=t(2791),u="Form_Form__ZktGn",l=t(626),s=t(8408),c=t(184),p=function(e){var n=(0,o.useState)((0,a.Z)({},e.form)),t=(0,i.Z)(n,2),p=t[0],d=t[1],f=[];for(var h in p)f.push({id:h,config:p[h]});return(0,c.jsxs)("form",{className:u,onSubmit:function(n){n.preventDefault();var t={};for(var r in p)if("radioInput"===p[r].elementType){var a=p[r].elementConfig.findIndex((function(e){return e.checked})),i=p[r].value[a];t[r]=i}else t[r]=p[r].value;e.dataProcessed(t)},children:[f.map((function(e){return(0,c.jsx)(l.Z,{elementType:e.config.elementType,elementConfig:e.config.elementConfig,name:e.id,value:e.config.value,changed:function(n){!function(e,n){var t=(0,a.Z)((0,a.Z)({},p),{},(0,r.Z)({},n,(0,a.Z)((0,a.Z)({},p[n]),{},{value:e.target.value})));d(t)}(n,e.id)}},e.id)})),(0,c.jsx)(s.Z,{fontWeight:"400",fontSize:"1.1rem",children:e.buttonText}),e.children]})}},626:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(1413),a=t(4165),i=t(5861),o=t(885),u=t(2791),l={Input:"Input_Input__vjpSZ",SelectInput:"Input_SelectInput__rnzqj",Textarea:"Input_Textarea__R5rtu",FileInputContainer:"Input_FileInputContainer__hBKVf",FileURLInput:"Input_FileURLInput__8VW7i",FileInput:"Input_FileInput__EyR8R",FileInputLabel:"Input_FileInputLabel__76CSO",loaderContainer:"Input_loaderContainer__J3EUt",RadioInputContainer:"Input_RadioInputContainer__4ICrx",RadioInput:"Input_RadioInput__pkzl2",RadioInputLabel:"Input_RadioInputLabel__VZaSW"},s=t(1586),c=t(4569),p=t.n(c)().create({baseURL:"https://amh-store.herokuapp.com/api/v1/upload/"}),d=t(4282),f=t(184),h=function(e){var n=null,t=(0,u.useState)(!1),c=(0,o.Z)(t,2),h=c[0],m=c[1],v=(0,u.useState)(""),x=(0,o.Z)(v,2),_=x[0],Z=x[1],I=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var t,r,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("image",n.target.files[0]),m(!0),e.next=6,p.post("",t);case 6:r=e.sent,i=r.data.path,Z(i),m(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n){return e.apply(this,arguments)}}();switch(e.elementType){case"input":n=(0,f.jsx)("input",(0,r.Z)((0,r.Z)({className:l.Input},e.elementConfig),{},{name:e.name,value:e.value,onChange:e.changed,required:!0}));break;case"fileInput":n=(0,f.jsxs)("div",{className:l.FileInputContainer,children:[(0,f.jsx)("input",{className:l.FileURLInput,type:"url",placeholder:e.elementConfig.placeholder,name:e.name,value:_||e.value,onChange:e.changed,required:!0}),(0,f.jsx)("input",{className:l.FileInput,type:e.elementConfig.type,accept:e.elementConfig.accept,onChange:I,id:e.name}),(0,f.jsx)("div",{className:l.loaderContainer,children:h?(0,f.jsx)(d.Z,{size:"small"}):null}),(0,f.jsx)("label",{className:l.FileInputLabel,htmlFor:e.name,children:"Upload"})]});break;case"select":n=(0,f.jsx)("select",{className:l.SelectInput,name:e.name,value:e.value,onChange:e.changed,children:e.elementConfig.options.map((function(e){return(0,f.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))});break;case"radioInput":n=(0,f.jsx)("div",{className:l.RadioInputContainer,children:e.elementConfig.map((function(n,t){return(0,f.jsxs)(s.Z,{children:[(0,f.jsx)("input",(0,r.Z)((0,r.Z)({className:l.RadioInput},n),{},{name:e.name[t],value:e.value[t],id:e.value[t]})),(0,f.jsx)("label",{className:l.RadioInputLabel,htmlFor:e.value[t],children:e.value[t]})]},e.value[t])}))});break;case"textarea":n=(0,f.jsx)("textarea",(0,r.Z)((0,r.Z)({className:[l.Input,l.Textarea].join(" ")},e.elementConfig),{},{name:e.value,value:e.value,onChange:e.changed,required:!0}))}return(0,f.jsx)(s.Z,{children:n})}},4282:function(e,n,t){t.d(n,{Z:function(){return o}});t(2791);var r="Loader_loaderContainer__pwLPQ",a="Loader_loader__ZEPsn",i=t(184),o=function(e){var n="small"===e.size?{width:"40px",height:"40px"}:{width:"80px",height:"80px"},t="small"===e.size?{borderWidth:"20px"}:{borderWidth:"40px"};return(0,i.jsx)("div",{className:r,style:n,children:(0,i.jsx)("span",{className:a,style:t})})}},2790:function(e,n,t){t.d(n,{Z:function(){return i}});t(2791);var r="SectionTitle_SectionTitle__k-YvA",a=t(184),i=function(e){return(0,a.jsx)("h1",{className:r,children:e.children})}},4695:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var r=t(5671),a=t(3144),i=t(9340),o=t(2882),u=t(2791),l=t(6871),s=t(8687),c=t(264),p=t(9795),d=t(4270),f="ProfileShow_ProfileShow__HiRfK",h="ProfileShow_infoContainer__tqhUs",m="ProfileShow_username__0C7pF",v="ProfileShow_email__zf8or",x=t(3504),_=t(8408),Z=t(2790),I=t(1441),g=t(184),j=function(e){var n=(0,l.s0)();return(0,g.jsxs)("section",{className:f,children:[(0,g.jsx)(I.Z,{children:(0,g.jsx)(x.rU,{to:"/myOrders",children:"Go to your orders \u25b6"})}),(0,g.jsx)(Z.Z,{children:"Profile"}),(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("h1",{className:m,children:e.userInfo.name}),(0,g.jsx)("h4",{className:v,children:e.userInfo.email}),(0,g.jsx)(_.Z,{fontSize:"1.1rem",fontWeight:"500",padding:"10px 15px",clicked:function(){return n("/profile/edit")},children:"Edit Profile"})]})]})},C=t(885),y={infoContainer:"ProfileEdit_infoContainer__WS0-Q"},k=t(9929),b=function(e){var n=(0,u.useState)({name:{elementType:"input",elementConfig:{type:"text",placeholder:"New username"},value:e.userInfo.name},email:{elementType:"input",elementConfig:{type:"email",placeholder:"New email"},value:e.userInfo.email}}),t=(0,C.Z)(n,1)[0];return(0,g.jsxs)("section",{className:y.ProfileEdit,children:[(0,g.jsx)(Z.Z,{children:"Profile Editing"}),(0,g.jsx)("div",{className:y.infoContainer,children:(0,g.jsx)(k.Z,{form:t,buttonText:"Update",dataProcessed:function(n){return t=n,void e.editProfile(t);var t}})})]})},N=t(4282),S=function(e){(0,i.Z)(t,e);var n=(0,o.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=n.call.apply(n,[this].concat(i))).editProfile=function(n){e.props.onEditProfile(n,e.props.token),e.props.navigate("/profile/show")},e}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){this.props.onRenderUserInfo(this.props.token)}},{key:"render",value:function(){return this.props.loading?(0,g.jsx)(N.Z,{}):(0,g.jsxs)(u.Fragment,{children:[(0,g.jsx)(d.q,{children:(0,g.jsx)("title",{children:"Online Store | Profile"})}),(0,g.jsxs)(l.Z5,{children:[(0,g.jsx)(l.AW,{path:"show",element:(0,g.jsx)(j,{userInfo:this.props.userInfo})}),(0,g.jsx)(l.AW,{path:"edit",element:(0,g.jsx)(b,{userInfo:this.props.userInfo,editProfile:this.editProfile})})]})]})}}]),t}(u.Component),w=(0,s.$j)((function(e){return{token:e.register.token,userInfo:e.profile.userInfo,loading:e.profile.loading}}),(function(e){return{onRenderUserInfo:function(n){return e(c.CS(n))},onEditProfile:function(n,t){return e(c.yQ(n,t))}}}))((0,p.Z)(S))},264:function(e,n,t){t.d(n,{CS:function(){return p},gH:function(){return f},yQ:function(){return d}});var r=t(4165),a=t(5861),i=t(9726),o=t(7120),u=t(1768),l=function(){return{type:i.VX}},s=function(e){return{type:i.at,userInfo:e}},c=function(e){return{type:i.jN,myOrders:e}},p=function(e){return function(n){(0,a.Z)((0,r.Z)().mark((function t(){var a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(l()),t.next=3,o.Z.get("/me",{headers:{Authorization:"Bearer ".concat(e)}});case 3:a=t.sent,i=a.data.user,n(s(i));case 6:case"end":return t.stop()}}),t)})))()}},d=function(e,n){return function(t){(0,a.Z)((0,r.Z)().mark((function a(){var i,u;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t(l()),r.next=3,o.Z.put("/updateMe",e,{headers:{Authorization:"Bearer ".concat(n)}});case 3:i=r.sent,u=i.data.data,t(s(u));case 6:case"end":return r.stop()}}),a)})))()}},f=function(e){return function(n){(0,a.Z)((0,r.Z)().mark((function t(){var a,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(l()),t.next=3,u.Z.get("/myOrders",{headers:{Authorization:"Bearer ".concat(e)}});case 3:a=t.sent,i=a.data.data,n(c(i));case 6:case"end":return t.stop()}}),t)})))()}}},9795:function(e,n,t){var r=t(1413),a=(t(2791),t(6871)),i=t(184);n.Z=function(e){return function(n){return(0,i.jsx)(e,(0,r.Z)((0,r.Z)({},n),{},{params:(0,a.UO)(),navigate:(0,a.s0)(),location:(0,a.TH)()}))}}}}]);
//# sourceMappingURL=695.986b0f6f.chunk.js.map